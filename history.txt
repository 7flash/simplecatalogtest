
--- Simplecatalog ---

http://psnet.lookformp3.net/
http://livestreet.ru/profile/PSNet/
https://catalog.livestreetcms.com/profile/PSNet/
http://livestreetguide.com/developer/PSNet/



Версия 9.0.0


  Новое

  - ширина блока выбора категорий при создании продукта теперь максимальная для удобства
  - ширина блока разрешения на комментирование при создании продукта сделана меньше
  - в схему добавлена опция заполнена дополнительных сео полей продукта (заголовок, описание, ключевые слова), раньше данная опция была в конфиге и касалась всех схем, в настройках схемы выделен раздел "SEO настройки публикации продуктов"
  - добавлены цифры и другие символы в список разрешенных для обычного поиска
  - увеличена в 2 раза длина поля списка элементов для типа поля "выпадающий список"
  - добавлено уведомление автора продукта о новых комментариях
  - добавлено уведомление об ответе на комментарий к продукту
  - добавлена подписка на комментарии продукта
  - редизайн вывода тизеров продуктов на главной странице сайта
  - добавлен выбор сортировки для списков продуктов: "мои продукты", "черновики", "нуждаются в модерации"
  - очень глубокий рефакторинг обычного и алфавитного поиска и логики работы с ним
  - добавлен выбор сортировки для обычного и алфавитного поиска, изменена сортировка по-умолчанию на последние опубликованные
  - изменена сортировка по-умолчанию на последние опубликованные для автоподбора при поиске по продуктам
  - переключение вида списка продуктов перенесено под форму поиска, код переключателя вынесен из хелперов в шаблоны отображения схемы и теперь тоже кастомизируем
  - изменение количества продуктов на страницу вынесено из хелперов в шаблоны отображения схемы и теперь тоже кастомизируем
  - в два раза уменьшено количество запросов к БД для обычного и алфавитного поиска
  - значительно улучшен обычный и алфавитный поиск (теперь ищет более точно)
  - шапка страницы обычного и алфавитного поиска унифицирована со списком продуктов: добавлено стандартное меню и описание схемы
  - рестилизация автокомплита по продуктам, формы обычного и алфавитного поиска
  - строка сортировки продуктов в списке заменена на селект
  - в список продуктов добавлена кнопка создания нового продукта
  - рестилизация шаблона плитки: уменьшены размеры заголовков, добавлено: дополнительное автовыравнивание изображений, к-во комментариев, просмотров и меток на карте
  - улучшено описание настроек схемы
  - полностью спрятан вывод полей продукта у которых нет данных и не включен вывод заголовка поля схемы
  - файл .dat загрузчика коротких урлов схемы перенесен в tmp папку, больше нет необходимости давать права на запись внутри папки плагина


  Исправления

  - фикс: если в урле просматриваемой категории первые символы - число ("250cc"), то не выводился список продуктов такой категории при поиске по ней, а число воспринималось как номер страницы и актуальной считалась категория уровнем выше
  - переменованы текстовки
  - исправлен поиск по цифре "0"
  - исправлен выбор пользовательского количества элементов на страницу для обычного и алфавитного поиска
  - исправлена логика работы для правила "Нужна ли модерация для продуктов текущего пользователя указанной схемы" прав доступа, раньше если для конкретного пользователя указана была необходимость модерации, то она не выполнялась
  - исправлен вывод надписи "нет продуктов"
  - разный рефакторинг
  - мелкие правки и обновление документации



Версия 8.2.0


  Новое
  
  - для поля схемы типа "селект" добавлена опция выбора логики поиска по фильтру "И"/"ИЛИ" для мультиселекта



Версия 8.1.1


  Исправления
  
  - исправлен вывод заголовков (нередактируемых полей) в блоке фильтра, в 8.1 версии заголовок для нередактируемых полей был перенесен из поля по-умолчанию в заголовок
  - рестилизация кнопки поиска в поле



Версия 8.1.0


  Новое

  - для поля схемы добавлена опция "Разрешить создание/редактирование поля при создании продукта (запрет может быть нужен для внутренних механизмов хранения данных сторонними плагинами)" для хранения внутренних данных
  - ИЗМЕНЕНО: теперь заголовок для типа поля "нередактируемое поле" устанавливается через заголовок поля схемы, а не через значение по-умолчанию, поэтому все поля с данным типом нужно отредактировать (при необходимости)
  - в связи с предыдущей правкой теперь заголовки у старых продуктов можно изменить отредактировав поле раздела, раньше заголовок раздела записывался в сам продукт и не мог быть изменен
  - теперь для типов поля "нередактируемое поле (раздел)" также выводится описание поля схемы под заголовком
  - рестилизация формы добавления продукта: многострочные поля сделаны на всю ширину, полный редактор для многострочных полей (раньше был тот, что для комментариев)
  - добавлена проверка текущего выбранного пользователем шаблона: является ли он доступным в переключателе шаблонов и использование настроек по-умолчанию если шаблоны для переключения были изменены
  - добавлен хук для списка шаблонов схем (для упрощения добавления шаблонов отображения плагинами и обхода ошибки наследования орм модулей в лс)

  Изменения

  - фикс ошибки сайтмапа: если в урле схемы были подчеркивания "_", то список продуктов такой схемы в сайтмапе был пуст
  - исправлена ошибка при сохранении редактируемой схемы если задан новый урл, который занят другой существующей схемой (ранее проверка выполнялась только для новых схем)
  - фикс проверки расширения файла если оно было в верхнем регистре - оно запрещалось к загрузке, если не было точно указано в настройках (фронтенд разрешал, а бекенд запрещал)
  - исправление запрета для не авторизированных пользователей на переключение шаблона каталога в списке продуктов и при изменении количества продуктов на страницу. В 8 версии плагина данный код был перенесен и права доступа на это были только у админов
  - фикс поиска продуктов по категории если у двух разных схем были категории с одинаковым урлом (поиск не находил продукты другой категории)
  - рестилизация
  - рефакторинг
  - правки текстовок



Версия 8.0.0


  Новое

  - добавлена адаптация для шаблонов "maxone" и "jupiter"
  - добавлен стандартный редактор для описания схемы в настройках
  - редизайн фильтра: сделано визуальное разделение полей в фильтре, добавлена иконка с описанием каждого поля и категорий
  - улучшение стилей фильтра для потенциального вывода фильтра в любом другом месте кроме сайдбара
  - мелкие изображения перенесены в ксс
  - добавлена отложенная публикация продуктов (опция в схеме, опция в группы прав)
  - на странице "все мои продукты" добавлен вывод отложенных к публикации продуктов
  - дополнена документация по работе с полями продукта, полученными по коду поля схемы
  - в группу прав добавлено новое разрешение "может создавать продукты", теперь опции схемы и группы прав полностью покрывают все возможные комбинации для осуществления всех необходимых ситуаций для заполнения каталогов (писатели, редакторы, модераторы или просто админы)
  - выбор категорий флажками: слова "Х элементов" и "У дочерних" возле категории убрано в всплывающую подсказку, оставлено только количество в скобках
  - для списка полей схемы добавлено отдельное полноценное меню и редирект при создании поля на страницу полей для удобства проведения операций с ними
  - уменьшен межстрочный интервал для полей продукта у которых отключен вывод заголовка поля
  - если полей у схемы нет или ни для одного поля не выбрано отображение в фильтре, то сообщение об этом показывается только админам
  - удалено слово "всего" из блока категорий, добавлено выделение количества как в фильтре
  - теперь при просмотре продуктов категории пагинация сохраняет сортировку
  - теперь если одна из категорий в ссылке фильтра по продуктам не найдена, то фильтр будет без вывода ошибки искать по другим найденным категориям
  - запрет на использование хтмл-тегов в заголовке продукта
  - в конфиг добавлена опция удаления всех тегов из текстов если в опциях поля схемы отключен стандартный парсер лс
  - добавлены хуки
  - обработка изображений: в схему добавлена опция "Вырезать ли строго в указанных пропорциях или подгонять ближайшую сторону изображения к указанному размеру, а другую рассчитывать пропорционально"
  - теперь если загружаемое изображение меньше указанных размеров в схеме, то оно не будет увеличиваться
  - добавлен отступ на карте от границ чтобы объекты точно попадали в видимую область вместе с подсказками
  - под картой меток продукта добавлен вывод списка меток на карте с возможностью центрирования метки на карте при её нажатии в списке
  - добавлено количество просмотров продукта
  - добавлен доступ к содержимому полей продукта автору и всем, у кого есть права, если не хватает рейтинга для просмотра содержимого согласно настроек поля
  - добавлен счетчик количества скачиваний файлов для типа поля "файл" продукта
  - добавлена сортировка схем при выводе последних продуктов схем на главной
  - добавлена возможность указывать в настройках схемы ноль для максимального количества загружаемых изображений чтобы отключить возможность загрузки изображений для продуктов
  - при редактировании продукта в заголовок раздела карт добавлено количество меток
  - обновление страницы "продукты" админки: отображаются продукты всех типов модерации, иконки статуса модерации + изменен внешний вид
  - в списке продуктов для модерации добавлена сортировка продуктов по-умолчанию
  - добавлен лимит количества новых заказов для одного айпи
  - добавлен механизм шаблонов отображения схем, с наследованием от базового, который позволяет персонализировать внешний вид каждого каталога, в т.ч. использование одного шаблона для нескольких схем
  - добавлен выбор двух шаблонов для переключения между ними в списке продуктов
  - переделано переключение между список/плитка, теперь это переключение между двумя полноценными шаблонами в настройках схемы
  - переключение вида теперь персонально для каждого каталога
  - можно задать шаблон по-умолчанию для каждого каталога
  - разделение ксс файла на несколько логических
  - в вывод метки на карте добавлено: категории, изображение, дата, ссылка добавления комментария, количество комментариев, количество меток на карте этого продукта и количество просмотров продукта
  - отключено листание одного фото в списке продуктов
  - добавлено описание изображения в модальном окне
  - теперь в списке продуктов можно просматривать в галерее не одно первое фото продукта, а и остальные, при этом вместо превью остальных изображений будет отображаться надпись "и ещё Х изображений", просмотр сделан таким образом что остальные изображения будут загружаться только при их непосредственном просмотре и не будут создавать ни трафик, ни нагрузку на БД
  - клик на изображении при шаблоне "плитка" ведет к странице продукта
  - ширина кнопки "купить" при плитке на всю ширину
  - добавлена опция удаления изображения категории при добавлении категории
  - теперь автогенерация имен файлов для загружаемых файлов отключена, вместо этого используется транслит имени загружаемого файла с проверкой свободности имени
  - к ссылке "скачать" при скачивании файлов у полей продуктов добавлено имя скачиваемого файла
  - на главной в коротком списке продуктов (перед топиками и в сайдбаре) добавлен вывод кнопки "купить" для платных продуктов
  - вывод изображений в содержимом поля продукта: маленькие изображения больше не растягиваются на всю ширину, а остаются "как есть", автомасштабируются только слишком большие изображения, которые не влезают в видимую область
  - очень длинное описание в сравнении продуктов теперь обрезается

  для увеличения производительности полностью переработаны индексы таблиц (удалены лишние и малоиспользуемые и добавлены новые оптимальные). Множественный рефакторинг, оптимизация и редизайн. В сумме в плагине выполнено 214 изменений.



Версия 7.0.0


  Новое

  - добавлена поддержка плагина "sitemap": в сайтмап сайта добавляются все разделы (каталоги) и продукты каталогов каждого раздела, даты последнего изменения заполнены и для разделов по последнему отредактированному продукту каталога. Настройки в config/sitemap
  - для продукта добавлены детальная микроразметка schema.org, удобная для поисковых систем и протокол Open Graph, который используется социальными сетями (фб, твиттер, вк)
  - добавлена и обновлена документация
  - в схему добавлено поле ключевых слов для вывода соответствующего мета тега на странице списка продуктов
  - добавлены автоматические ключевые слова (мета тег) для категории: имя категории и урл категории
  - добавлен вывод количества меток на карте в скобках для меню страницы продуктов
  - добавлена постраничная навигация на страницу со списком не промодерированных продуктов
  - при создании категории исправлено отображение дерева категорий в селекте выбора родительской категории для браузера "хром" (у него отображалось дерево линейно)
  - в таблице сравнений продуктов убраны изображения из контента продуктов для более компактного вида
  - если пользователь перешел по ссылке сравнения, то ему добавляются в сессию продукты из ссылки сравнения чтобы он мог оперировать списком сравнения как своим (удалять продукты)
  - добавлено rel="nofollow" для ссылок сравнения
  - добавлена проверка максимального количества сравниваемых продуктов: при добавлении продукта к сравнению и при выводе таблицы сравнения
  - в схему добавлен новый параметр "Количество дней после последнего редактирования автором продукта в течении которых он может отредактировать/удалить продукт. Если последним редактировал продукт не его автор (например, модератор), то проверяется дата создания продукта. Данное правило не ограничивает права администраторов и пользователей с назначенными правами через группы прав. Чтобы не ограничивать по времени право на редактирование авторам - установить ноль дней.", это позволит избежать ситуаций, когда автор через некоторое время захочет, например, удалить все свои публикации
  - при создании схемы параметры перенесены по логическим группам
  - улучшен порядок в языковом файле плагина
  - добавлена проверка на url схемы при включенных коротких урлах: он не может быть урлом стандартных экшенов движка
  - увеличена скорость добавления продукта
  - в футер продукта добавлена иконка количества меток на карте
  - добавлено исключение текущего продукта из выбора связей для продукта
  - добавлена ссылка на продукт при его редактировании для удобного доступа
  - добавлено поле для настройки связи схемы "количество продуктов для отображения в выборе связи"
  - в поле схемы для опции "показывать только зарегистрированным" изменен порядок "да/нет" для отображения "нет" первым
  - для списка полей схемы добавлен вывод иконок для информативности: обязательное поле и необходимость авторизации для просмотра
  - категории продукта перемещены вверх и добавлен вывод их изображений, ссылка вставки кода помещена слева от ссылки сравнения
  - рефакторинг вывода дерева категорий как главной страницы каталога
  - добавлен новый кастомный валидатор "телефон"
  - добавлены новые символы в разрешенные символы для поиска
  - добавлены социальные кнопки
  - для дополнительных изображений продукта добавлены рамка и отступы
  - в выводе связей изображениями добавлена кнопка "купить" если продукт платный и включен магазин
  - много рефакторинга и оптимизации кода и шаблонов
  - редизайн многих разделов и элементов

  Исправления

  - исправлено: убирать теги из мета тега описания для списка продуктов (items), которые могли быть заданы админом для отображения на странице продуктов, но не нужны в мета-описании
  - фикс вывода неразрывных строк в разделе "продукты" админки
  - фикс: если в связи нет продуктов (например, "своих") - не выводить блок этой связи при создании продукта
  - фикс когда плагин отключал нумерацию списков на сайте для тегов li
  - исправлена установка значения по-умолчанию для поля когда значение по-умолчанию отображалось в поле продукта на странице, а при редактировании это значение не показывалось (но его можно было редактировать)
  - исправлен/добавлен вывод заголовков разделов плагина
  - фикс ошибки когда для пользователя с правами редактирования продукта давали его продукты для привязки, а не автора топика (при включенной опции в схеме "выбирать свои продукты"). Для модератора или админа показываются для привязки продукты автора топика
  - фикс: если продукт стает не промодерированным или попадает в черновик, то он исчезает из связей других продуктов на странице продуктов (на странице редактирования его не было и раньше)
  - фикс ошибки когда не формировался транслит для чпу если в заголовке были угловые лапки
  - добавлена запись в how_to_update.txt что нужно сохранять файл лицензии при обновлении
  - очень много мелких доработок и исправлений

  Всего 116 добавлений и изменений.



Версия 6.0.0


  Новое

  - добавлены короткие урлы для списка продуктов и страниц продуктов, которые положительно влияют на сео
  - добавлено сохранение направления сортировки при пагинации
  - установка каноничных урлов т.е. переход со старых урлов продуктов на новые короткие будет осуществлен автоматически
  - добавлена карта к продуктам с возможностью настройки под каждую схему. Продукт может иметь неограниченное количество меток на карте, каждая со своими параметрами и видом, метки кластеризируются
  - при просмотре страницы продукта метки на карте автомасштабируются таким образом чтобы попадать в видимую область карты
  - добавлена общая карта меток всех продуктов каждой схемы, кластеризация, с автозагрузкой данных по показываемым областям, разработана по самым последним возможностям Яндекс Карт, можно показывать одновременно десятки тысяч меток на карте
  - определение адреса по клику при создании новой метки и вписывание в имя и содержимое метки короткого и полного адреса координат
  - добавлен новый пункт в опцию схемы "Что показывать на главной странице каталога" - "Карта меток"
  - мелкие оптимизации для возможности автоматизации заполнения продуктов сторонними плагинами/доработками
  - разделение сложного запроса фильтра продуктов на два более мелких, что дало колосальный прирост по скорости работы фильтра. В среднем для сотен тысяч записей полей запрос работает около 70мсек, также добавлены доп. составные индексы
  - увеличена скорость вывода полей каждого продукта
  - рефакторинг автоматического заполнения СЕО данных продукта
  - новая опция в конфиге категорий "Нужно ли показывать блок "Категории" в сайдбаре и при создании топика, если категории для схемы не заданы"
  - в поле схемы добавлены новые права доступа: просмотр содержимого поля только для зарегистрированных пользователей и минимальный рейтинг пользователя для просмотра (старая опция "скачивание только зарегистрированным" у типа поля "файл" удалена), таким образом каждое поле можно ограничивать в доступе
  - к многострочным текстовым полям добавлен стандартный редактор, настроена типографика для корректного отображения после использования редактора
  - добавлена локализация календаря
  - в конфиг добавлена сортировка и направление для продуктов по-умолчанию
  - добавлено сохранение исходных вводимых пользователем данных из формы создания продукта, позволяет сохранить для редактирования форматирование текста в том виде, в котором его составил пользователь для своего удобства

  Исправления

  - фикс ошибки постраничности при просмотре продуктов категории
  - фикс: если в урле схемы был дефис, то главная страница сайта (при включенном блоке "прямой эфир") не работала из-за некорректности назначения нового урла для просмотра комментариев схемы
  - фикс открытия ссылок из карточек вставки продуктов (из ембед кода) в текущем окне
  - фикс бага с проверкой ссылок в полях, для которых установлен валидатор "ссылка"
  - фикс вывода полей продукта в списке продуктов если для поля был установлен вывод только на полной странице продукта и по порядку это поле было до кнопки "смотреть далее", это поле учитывалось раньше как выведенное и поэтому в списке продуктов выводилось меньше полей чем было указано выводить
  - фикс СЕО данных: если поля заполнялись автоматически, то в них могли попадать хтмл теги (проверенные парсером), пустые значения теперь не добавляются в автоматически генерируемое СЕО описание, помимо этого авто сео генерируется на основе открытых полей без ограничений доступа
  - фикс приведения типа для опции схемы "Минимальный рейтинг пользователя для возможности создания продукта": раньше дробное число мин. рейтинга приводилось к целому значению
  - фикс ошибки не нахождения шаблона при подстановке в урл имени эвента в верхнем регистре (ошибка самого движка)

  Разные исправления описаний, обновлена/дополнена/добавлена новая документация, рефакторинг кода и шаблонов, мелкие правки и оптимизации - в сумме несколько десятков изменений.



Версия 5.0.0


  Новое

  - добавлена и обновлена документация и текстовки плагина
  - в текстовку "количество заполненных полей продукта" добавлено общее количество "количество заполненных полей: X из Y"
  - переработаны заголовки страниц: убран текст "Плагин Simple Catalog" для страниц, доступных пользователю
  - в заголовках дополнительно теперь пишется имя каталога (например, при любом поиске)
  - для страницы продукта показывается имя каталога в котором он находится (помимо самого заголовка продукта: "имя продукта / каталог")
  - в автокомплитер поля поиска добавлен вывод изображений продуктов
  - множественный рефакторинг, оптимизация и рестайлинг кода по всему плагину (много мест, до полусотни)
  - при удалении группы прав добавлено авто удаление связей группы прав с пользователями
  - добавлена группировка списка элементов в разделе прав и назначения прав
  - иконки и их стили перенесены из адаптаций в плагин
  - в класс иконок добавлен префикс "sc-"
  - удален oUserCurrent из сущности продукта при инициализации (нужен был только при сохранении)
  - добавлена валидация для "user_allow_comments" схемы
  - в сущности групп прав и назначений прав добавлены методы getEditWebPath и getDeleteWebPath и заменены конструкции в шаблонах
  - подправлены ссылки управления заказами в списке
  - для вопроса при активации элементов добавлена возможность принятия текста вопроса из атрибута заголовка, кроме data атрибута
  - переделан вывод кнопок внизу фильтра ("сбросить" теперь также кнопка)
  - добавлен хук в футер добавления продукта
  - для комментариев тип цели 'product' вынесен в константу и заменено в коде
  - добавлены правила валидации для сущности связи категории с продуктом
  - добавлен составной индекс для таблицы связей категорий с продуктами
  - добавлено удаление полей у продукта (раньше было по внешним ключам)
  - вывод заголовка по-умолчанию если у продукта нет ни одного поля
  - добавлено полное автоматическое удаление всех связанных данных (без использования внешних ключей) при удалении объектов
  - изображения категорий теперь загружаются дополнительно в подкаталог с ид схемы категории
  - при удалении категории перенос связей категорий с продуктами на родительскую перенесен из метода удаления (в модуле) в экшен категории
  - метод переноса связей с продуктами при удалении категории полностью переработан и освобожден от лишнего кода и занимается теперь только переносом связей
  - удаление категории теперь происходит как обычно для орм-сущностей и удаляет всю свою дочернюю ветку в beforeDelete сущности
  - добавлены простые методы получения активных назначений прав и заменены ими вызовы в экшене
  - добавлены правила валидации для сущности категорий (изображение и описание)
  - улучшена проверка IsFileUploaded модуля файлов
  - добавлено отключение времени выполнения скриптов при удалении
  - добавлена подпись "текущее изображение" для редактирования категории
  - добавлен заголовок для изображений блока категории
  - отключен вопрос при удалении изображений при редактировании продукта
  - полоска заполненности продукта вынесена в отдельный файл
  - добавлен сброс кеша полей продуктов после миграции контента полей продуктов
  - добавлен редирект на страницу каталога если удаляется последний продукт из сравнения и больше нет продуктов в сравнении
  - получение массива заблокированных дочерних категорий для выбора родительской категории вынесено в метод сущности (getSelfAndDescendingCategoriesIds)
  - добавлен хук в экшен продуктов после успешного сохранения
  - в сущность категории добавлен метод getIsInCategory
  - в сущность продукта добавлен метод setModerationDraft
  - увеличено быстродействие
  - увеличение скорости сортировки полей продукта в 2 раза
  - урлы редактирования и удаления категории вынесены в сущность
  - селект категорий вынесен из экшенов в хелперы
  - для выбора категорий вместо селекта сделаны флажки
  - улучшена информативность вывода информации при некорректно выбранном файле
  - вывод количества всех найденных результатов на странице
  - улучшенная проверка текста запроса
  - улучшена информативность в случае ошибки запроса
  - если категорий для схемы нет, то не выводится блок в фильтре продуктов
  - если первое поле (заголовок) в схеме - селект, то теперь отображается его выбранное значение в заголовке (а не индекс), а также формируется урл на основе этого значения (а не автоматически случайное)
  - добавлен новый тип вывода элементов для связей - "В селекте внизу продукта", теперь есть 4 разных вида вывода связей для продукта- добавлено кеширование заголовка продукта (первого поля)
  - в UploadProductImages добавлен вызов валидации суущности, обновлены правила валидации
  - добавлен метод установки сортировки по-умолчанию для продуктов SetDefaultProductSortingOrder
  - в вьюер добавлен метод пополнения реквеста AppendRequestData
  - добавлен хук в шаблон добавления схемы
  - вывод комментариев продукта вынесен в файл
  - добавлен хук в шапку вывода продукта
  - множественные селекты фильтра и добавления продукта переделаны на выбор через флажки
  - при создании продукта добавлена возможность не выбирать ничего из селекта любого типа (если он не обязателен), раньше что-то нужно было обязательно выбрать
  - если значения поля нет, то теперь выводится подпись "нет"
  - для выбора нескольких связей вместо селектов теперь используются флажки
  - изменен стиль вывода изображений связей чтобы по вертикали была одна высота
  - добавлено изменение количества продуктов на страницу персонально для каждого пользователя и каждого каталога
  - для смены вида гет параметр в шаблоне заменен константой из хука
  - сделано мгновенное переключение вкладок связей вместо быстрой анимации
  - обновлен дизайн некоторых элементов интерфейса
  - добавлен ключ безопасности для смены лин. вида на плитку
  - большой рефакторинг и доработка связей (+ сохранение текущего выбора в селектах при ошибке заполнения продукта)

  Изменения

  - фикс сео поля описания
  - фикс редиректа после удаления групп прав и назначения прав
  - фикс отображения продуктов плиткой
  - исправлена работа фильтра при пагинации
  - фикс отображения плитки при пагинации
  - фикс удаления связей продукта с категориями
  - фикс "user_allow_comments" когда при запрещенных или всегда разрешенных комментариях в схеме не проходила валидация при добавлении продукта
  - фикс вывода иконки комментариев если комментарии продукта отключены или запрещены
  - фикс загрузки изображений для категории: теперь загрузка изображения выполняется после валидации данных
  - фикс todo и описания в модуле схемы
  - фикс сортировки в MyGetUserassignItemsByGroupId модуля назначения прав
  - фикс: добавлен запрет на загрузку файлов с размером в 0 байт
  - фикс описания екшена и модуля продуктов
  - фикс стилей инпутов при добавлении продукта (комментарии и связи)
  - фикс вывода текста поиска для поиска в других пс
  - фикс классов селектов, где не было класса "input-text"
  - фикс заполнения поля продукта значением по-умолчанию (не сохранялось на форме первое значение обычного селекта при создании нового продукта при ошибке заполнения других полей)
  - фикс проверки поля кастомным валидатором: теперь если поле не обязательно к заполнению, то при включенном кастомном валидаторе можно его не заполнять (раньше всегда нужно было заполнять)


  Всего около 170 изменений и новшеств.



Версия 4.0.2

  Исправления
  
  - исправлены сортировки фильтра и изображений под новыми версиями пхп (соответствие стандартам)



Версия 4.0.1

  Исправления
  
  - исправлен поиск по категории под новыми версиями пхп (соответствие стандартам)
  - исправлен баг сохранения сео данных



Версия 4.0.0

  Новое

  - обновлены: документация, описания и текстовки
  - увеличен отступ между продуктами в списке
  - рефакторинг шаблонов вывода связей продукта
  - для типа связей "1 к 1" теперь не выводится количество в заголовке связи
  - обновлено описание связей на странице их списка
  - рефакторинг вывода сообщений об ошибках сравнения
  - стилизация меню фильтра при сравнении продуктов под общий стиль шаблона движка
  - небольшое облегчение шаблона сравнения продуктов
  - добавлена установка значения по-умолчанию для сортировки настройки связи схемы
  - убран ненужный класс описания схемы
  - добавлен вывод продуктов плиткой и кнопки переключения вида (линейный или плитка), а также опция в конфиге типа вывода по-умолчанию
  - рефакторинг шаблонов
  - в поле поиска по каталогу добавлен автокомплитер, поиск производится по всем полям продуктов
  - рестайлинг экшена поиска
  - добавлено изображение категории на страницу поиска по категории
  - добавлен вывод категорий при плиточном отображений продуктов
  - рефакторинг кода
  - добавлен раздел сео данных при создании продукта: заголовок, описание, ключевые слова (ЧПУ уже был)
  - вывод сео мета данных: для списка продуктов, поиск по категории и на странице продукта
  - возможность заполнять сео данные пользователем и/или автозаполнение сео данных на основе данных продукта (опции в конфиге)
  - реструктиризация конфига продуктов по логике разделов
  - установка каноничного урла для продукта (сео)
  - в заголовках каждого раздела админки плагина указывается количество объектов

  Исправления

  - сетки отображения связей изображениями
  - если в сравнении остался один продукт - теперь не выводится ошибка и отображается этот продукт
  - для описаний схем и категорий исправлено отображение переводов строк
  - обновление документации методов сущности поля схемы



Версия 3.0.0

  Новое
  
  - добавлены связи продуктов
  - добавлены новые валидаторы: sc_method, sc_enum
  - добавлен метод получения активных схем и заменёны им вызовы во многих местах
  - рестайлинг кода
  - фикс сортировки схем, когда не учитывалась сортировка в селектах для групп прав и др.
  - добавлен вывод блока категорий на странице черновиков
  - мелкие визуальные правки
  - добавлен механизм простой адаптации сторонних шаблонов



Версия 2.0.0

  Новое

  - большая работа по улучшению совместимости и корректности отображения с нестандартными шаблонами движка
  - многие стандартные классы ксс были добавлены в плагин для поддержки большего количества сторонних шаблонов, не поддерживающих данные классы
  - при включенном фильтре продуктов добавлена кнопка "сбросить" и выводится заголовок "Выбор по фильтру в"
  - в схему добавлена опция, которая позволяет включать для продуктов схемы использование черновиков. Продукт, при надобности, следует по цепочке "черновик, модерация, главная"
  - добавлена вкладка "мои черновики" для каждой схемы, где черновики включены
  - уменьшено количество запросов к бд на странице своих продуктов
  - для каждой вкладки раздела каталога теперь выводятся соответствующие заголовки ("На модерации", "Мои продукты", "Мои черновики")
  - вынос классов совместимости в отдельный ксс файл
  - добавлена поддержка кастомных ксс и жс файлов
  - добавлены новые параметры в конфиги
  - в фильтр по продуктам добавлен вывод заголовков (не редактируемых полей)
  - отправление письма при оформлении нового заказа на указанного в конфиге получателя
  - добавлено поле количества заказываемых продуктов возле кнопки "купить" и кнопки "+" и "-"
  - добавлены хуки в селекты типа доставки и оплаты и после каждого селекта для кастомной обработки новых значений селектов
  - добавление хуков для вывода информации о кастомных типах доставки о оплаты магазина
  - добавлены всплывающие подсказки для элементов футера продукта
  - добавлен функционал "вставить в блог" с ембед кодом продукта
  - при редактировании продукта если он находится в черновиках (если они включены) или на модерации, то в заголовке отображаются соответствующие иконки черновика или модерации
  - множество других улучшений

  Исправления

  - фикс отображения последних продуктов если изображение большое по вертикали в миниатюре
  - фикс бага когда одно изображение у продукта и не работает его превью в модальном окне на странице продукта
  - фикс написания минимально необходимой версии лс
  - фикс ширины селекта категорий в фильтре продуктов: теперь для подключаемого селекта категорий можно указывать класс
  - фиксы форматирования
  - фикс документации методов, формирующих структуру полей фильтра
  - фикс бага с запятой вместо точки в дробном числе при оформлении заказа из-за установок локали
  - фикс сообщений об ошибках валидации типа доставки и оплаты заказа
  - фикс: кнопка "купить" (если включен магазин) и пре выбор количества (если включено) отображается для продуктов у которых пройдена модерация
  - в шаблоне заказа заменены значения в селектах типа доставки и оплаты константами из модуля магазина
  - теперь при оформлении заказа если некорректно ввести данные, то при выводе ошибки значения в полях сохраняются
  - исправлены некоторые имена классов сравнения продуктов для жс (добавлены префиксы "js-")



Версия 1.0.1

  релиз
