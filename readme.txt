
--- Simplecatalog ---

http://psnet.lookformp3.net/
http://livestreet.ru/profile/PSNet/
https://catalog.livestreetcms.com/profile/PSNet/
http://livestreetguide.com/developer/PSNet/


--- Описание ---

Позволяет создавать неограниченное количество гибко настраиваемых каталогов, типов контента и разделов с большим количеством разных параметров и возможностей.



--- Терминология ---

Для однозначного понимания описания плагина необходимо принять следующую терминологию для использовании плагина:

- Схема - структура будущего каталога, в которой хранится системное описание типа и порядка полей, их правил заполнения, отображения, параметров, описывающих поведение каталога и др.
- Поле схемы - описание правил, типа данных и возможностей одного поля для объекта в каталоге, например, поле для заголовка.
- Продукт - созданный пользователем один объект на основе схемы в каталоге, продукт - это как "топик" в понимании ЛС.
- Поле продукта - единица целого объекта (продукта), которая хранит часть информации, например, заголовок.



--- Дополнение к терминам ---

Каждая схема и её поля описывают структуру для одного каталога сайта. Схем может быть сколько угодно - столько же будет и каталогов на сайте. В схеме задаются опции для работы каталога.

Аналогия: продукт в каталоге - это как топик в блоге LiveStreet CMS. Только топик в лс имеет четко ограниченный набор полей и правил поведения, а каталог и его продукты можно настраивать через схему и её поля, которые характеризуют поля для будущих продуктов.



--- Полное описание ---

Плагин позволяет создавать неограниченное количество каталогов (разделов на сайте), каждый со своим набором параметров и логикой. Настройка каталогов начинается с создания схемы каталога и добавления полей к ней, после этого можно создавать продукты в каталоге. У продуктов будет набор полей для ввода данных, который был задан в полях для схемы.

Продуктам можно задавать неограниченное количество категорий, добавлять изображения, менять порядок их отображения сортируя мышкой.

При включении магазина появляется корзина. Для оформления заказа на покупку регистрация на сайте не требуется. Плагин позволяет только принимать заказы на покупку, но не позволяет оплачивать их онлайн.

Доступен фильтр по продуктам (поиск по параметрам), блоки "Ещё от этого автора", "Ещё из этих категорий", "Категории схемы", вывод на главной последних продуктов в блоке сайдбара или перед топиками, поиск по алфавиту или обычный по тексту полей продукта, просмотр фото продуктов в модальном окне с листанием, ЧПУ.

Плагин позволяет публиковать в каталогах как платные так и бесплатные продукты. Для файлов кроме максимального размера и расширений доступна опция скачивания только зарегистрированными пользователями, а также есть опция защиты файлов от прямых ссылок и формирование ссылки для конкретного пользователя на некоторое время, после которого ссылка будет не рабочая.

Для каталогов можно задавать кто может создавать в них продукты (админы или обычные пользователи), необходимость модерации и даже группы прав для пользователей: чьи продукты нужно модерировать, кто может модерировать, кто может редактировать продукты.

Категории задаются для каждого каталога отдельно, неограниченной вложенности. Категории имеют сортировку, описание, изображения.

Возможность вывода на главной (список страниц задается) новых продуктов каталогов (перед топиками или в сайдбаре).

Для полей есть несколько основных типов полей, а сверху к ним могут применяться различные валидаторы для проверки вводимых значений. Основные типы полей: Текстовое поле, Многострочное текстовое поле, Файл, Флажок, Нередактируемое поле со значением по-умолчанию (подраздел), Выпадающий список. Основные валидаторы (все используются для обычного текстового поля): Ссылка, Почта, Целое число, Дробное число, Дата в формате ГГГГ-ММ-ДД.

Комментарии к продуктам и вкладки для каждого каталога в прямом эфире.

Многие функциональные элементы можно увидеть на скриншотах, которые показывают каждый элемент в работе.

Для каждого каталога доступен блок категорий с выводом количества продуктов в каждой категории

У продуктов существует кнопка сравнения. На странице сравнения доступны фильтры "все" или "только отличия"

Доступен механизм связей для продуктов.

Механизм простой адаптации плагина под нестандартные сторонние шаблоны.



--- Разделы админки ---

Админка плагина предоставляет 6 разделов настроек:

- Схемы каталогов
- Группы пользователей
- Пользователи
- Категории
- Продукты
- Заказы
- Связи

Далее каждый раздел будет рассмотрен детально.


1. Раздел "Схемы каталогов"

Содержит список схем каталогов, каждая из которых описывает общие параметры для каждого каталога. Схемы можно сортировать мышкой, меняя тем самым порядок отображения каталогов на сайте.
Тут же можно посмотреть набор полей схемы, перейти к полному списку полей схемы (где также можно сортировать порядок вывода полей), добавить новое поле к схеме, отредактировать/создать новую схему или удалить её.

При создании схемы доступны параметры:

  Основные:

  - Системное имя схемы (a-z, 0-9), должно быть уникальным (URL)
  - Отображаемое имя схемы
  - Описание схемы

  Общие:

  - Включена ли схема
  - Добавить пункт на создание объекта данного типа в меню создания нового топика
  - Добавить пункт в главное меню на список продуктов
  - Количество полей, которые показывать в короткой версии продукта, после которых будет показана кнопка "смотреть полностью" для перехода на полную страницу продукта
  - Разрешить комментарии к продуктам: Принудительно разрешить для всех продуктов схемы, Запретить, На выбор автора продукта
  - Разрешить использование ЧПУ
  - Кто по-умолчанию может создавать и редактировать продукты (также можно назначить отдельные группы прав пользователям в разделе "группы пользователей"): Администраторы, Любой пользователь
  - Нужна ли модерация для всех создаваемых продуктов схемы? (также можно назначить отдельные группы прав в разделе "группы пользователей")
  - Показывать алфавитный поиск продуктов возле поля поиска на странице продуктов
  - Выводить в профиле пользователя последние созданные продукты схемы
  - Выводить в профиле пользователя на вкладке "Публикации" список всех созданных пользователем продуктов
  - Выводить последние комментарии в "прямом эфире" в отдельной вкладке
  - Минимальный рейтинг пользователя для возможности создания продукта
  - Сортировка схем (схемы будут выводиться в порядке от меньшего значения к большему)
  - Количество продуктов на страницу
  - Что показывать на главной странице каталога: Последние продукты, Категории схемы
  - Выводить последние продукты: Не нужно, Перед топиками на главной, В блоке сайдбара

  Изображения продукта:

  - Максимальное количество загружаемых изображений для продукта
  - Ширина для изображений
  - Высота для изображений

  Интернет магазин:

  - Включить функционал интернет-магазина - возможность делать заказы на товары (онлайн оплаты нет)

После того, как схема создана, к ней можно добавлять поля. Каждое поле имеет следующие параметры:

  Основные:

  - Заголовок поля для отображения
  - Описание поля для отображения
  - Обязательное ли поле для заполнения
  - Код (не обязателен, только если вам нужен прямой доступ к полю в шаблоне, разрешенные символы: a-z и 0-9, должен быть уникальным)
  
  Тип поля и настройки типа:
  
  - Тип поля: Текстовое поле, Многострочное текстовое поле, Файл, Флажок, Нередактируемое поле со значением по-умолчанию (подраздел), Выпадающий список
  
  В зависимости от выбранного типа поля добавляются следующие параметры только для этого типа:
  
    Для типа поля "Текстовое поле":
    
    - Минимальная длина текстового поля (символов)
    - Максимальная длина текстового поля (символов)
    
    Для типа поля "Многострочное текстовое поле":
    
    - Минимальная длина многострочного текстового поля (символов)
    - Максимальная длина многострочного текстового поля (символов)
    
    Для типа поля "Файл":
    
    - Максимальный размер файла, Кб
    - Разрешенные типы файлов (прописывать расширения через запятую)
    - Скачивание только для зарегистрированных пользователей
    
    Для типа поля "Флажок" и "Нередактируемое поле со значением по-умолчанию (подраздел)" параметров нет
    
    Для типа поля "Выпадающий список":
    
    - Значения для выпадающего списка (заносить каждое с новой строки)
    - Возможность выбора нескольких значений
    
  Обработка значения поля:
  
  - Пропускать значение поля через стандартный парсер ЛС (рекомендуется если продукт может заполнять обычный пользователь)
  - Валидация поля, проверять значение поля на тип (список всех доступных валидаторов задается в конфиге плагина): не использовать, Ссылка, Почта, Целое число, Дробное число, Дата в формате ГГГГ-ММ-ДД
  - Значение в поле по-умолчанию. Позволяет установить значение в поле для нового продукта, пользователь сможет его изменить при необходимости
  
  Визуальное оформление:
  
  - Показывать это поле: Везде, Только в списке продуктов, Только при полном просмотре страницы продукта, Нигде (но доступно для заполнения)
  - Префикс значения (например, знак $)
  - Постфикс значения (например, единица измерения - мм)
  - Сортировка поля (поля будут выводиться в порядке от меньшего значения к большему). Также первое поле в схеме - это заголовок продукта
  - Показывать заголовок поля при отображении значения поля продукта
  - Искать по этому полю при параметрическом поиске
  

2. Раздел "Группы пользователей"

Содержит список групп прав для пользователей для каждой схемы (каталога).

Каждая группа имеет параметры:

- Имя группы (например, Модераторы, Админы каталога)
- Группа включена
- Для схемы - указывается схема из списка для которой данный набор прав задается
- Пользователь группы может редактировать любые продукты
- Продукты пользователя нуждаются в модерации
- Пользователь может модерировать продукты


3. Раздел "Пользователи"

Содержит список пользователей и назначенные каждому пользователю наборы прав, созданные в разделе "Группы пользователей"

Каждое назначение имеет параметры:

- Группа - указывается группа прав из списка созданных групп прав
- Логин пользователя (также можно указать несколько логинов, через запятую - все они будут добавлены к группе)


4. Раздел "Категории"

Содержит подразделы со списком схем, для которых наборы категорий создаются. Для каждой схемы создаются свои категории неограниченной вложенности. При выборе схемы выводится дерево категорий этой схемы.

Каждая категория имеет параметры:

- URL категории (a-z, 0-9)
- Имя категории
- Вложить категорию в другую категорию - выбирается родительская категория из дерева ранее созданных категорий
- Сортировка (порядок элементов категории на одном уровне от наименьшего к большему)
- Изображение категории (если нужно)
- Описание категории


5. Раздел "Продукты"

Данный раздел добавлен в тестово-отладочных целях и содержит "сырое" отображение продуктов каталогов только для админов.


6. Раздел "Заказы"

Содержит оформленные заказы на покупку товаров в офлайн магазине, если хотя бы для одной из схем включен функционал магазина. У заказов есть статусы "новый" и "обработан".


7. Раздел "Связи"

Данный раздел предоставляет мощный функционал для продуктов - связи. Связи позволяют привязывать к продуктам другие продукты из любого каталога. Например, есть два каталога: артисты и альбомы. Так, с помощью связей, к артисту можно привязывать его альбомы, которые будут доступны на странице продукта (на вкладке или внизу изображениями или ссылками).
Связи, как и схемы и их поля, можно сортировать мышкой чтобы установить нужный порядок вывода.


--- Настройки в конфиге ---

Помимо настроек через веб-интерфейс плагин имеет множество настроек в конфигах.

Настройки блоков

Настройки категорий

  Использовать ли в категориях полный путь (parent1/parent2/category) или короткий (category)
  Разрешить назначать продуктам только конечные категории у которых нет дочерних субкатегорий
  Размер изображения для категории (ШхВ)
  
Параметры загрузки изображений к объектам

  Разрешенные к выбору расширения файлов изображений
  Максимальный размер изображения для загрузки в байтах
  
Разные дополнительные настройки продуктов, такие как, например, разрешенные сортировки и скачивание файлов

Настройки поиска

Настройки магазина - отображение валюты

Список валидаторов для полей схемы

И другие параметры


--- Технические подробности ---

Плагин имеет развитую внутреннюю структуру для проверки прав пользователя на доступ к разным объектам. Плагин построен на ORM LiveStreet CMS + собственный ORM (для того функционала, который не предоставляет орм лс), над этим идет обертка DAO (технология) и в результате получен EAV. Плагин имеет множество внутренних оптимизаций для высокой скорости работы.


--- Лицензия ---

Плагин лицензируется на один домен. Для каждого домена плагин следует покупать отдельно.
Плагин имеет открытый код, что позволяет легко дорабатывать плагин под свои нужды. Плагин имеет разграничение логики и представления в шаблонах так, что требует минимального вмешательства для адаптации плагина под собственные шаблоны.


--- Демо ---

Демо работы плагина доступно на сайте http://sc-demo.livestreetguide.com
